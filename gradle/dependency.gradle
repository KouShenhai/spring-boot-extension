apply plugin: 'java'
apply from: "$rootDir/gradle/depend.gradle"

def managementMavenBom = project.ext.mavenBom
def managementDependency = project.ext.dependency
def implementationDependency = project.ext.implementation
def annotationProcessorDependency = project.ext.annotationProcessor
def testImplementationDependency = project.ext.testImplementation
def compileOnlyDependency = project.ext.compileOnly
def testCompileOnlyDependency = project.ext.testCompileOnly
def testAnnotationProcessorDependency = project.ext.testAnnotationProcessor

dependencies {
    constraints {
        managementDependency.each { v -> implementation v }
        managementDependency.each { v -> annotationProcessor v }
    }
    managementMavenBom.each { v -> implementation(enforcedPlatform(v)) }
    implementationDependency.each { v -> implementation v }
    annotationProcessorDependency.each { v -> annotationProcessor v }
    testImplementationDependency.each { v -> testImplementation v }
    compileOnlyDependency.each { v -> compileOnly v }
    testCompileOnlyDependency.each { v -> testCompileOnly v }
    testAnnotationProcessorDependency.each { v -> testAnnotationProcessor v }
}

subprojects.forEach {
    if (it.buildFile.exists()) {
        it.dependencies.add()
    }
}
